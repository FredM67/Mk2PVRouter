

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2026-02-20T10:23:03+01:00" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PrÃ©sentation de la carte universelle &mdash; Documentation Documentation du Mk2PVRouter </title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=9c3e77be" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_lesson.css?v=0c089442" />
      <link rel="stylesheet" type="text/css" href="../../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="../../_static/drawio.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=0d32a3b3"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = '';</script>
      <script>let toggleHintHide = '';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../../_static/togglebutton.js?v=1ae7504c"></script>
      <script src="../../_static/translations.js?v=e6b791cb"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
      <script src="../../_static/clickable-graphviz.js?v=b703d362"></script>
      <script src="../../_static/clickable-images.js?v=cb5602a2"></script>
      <script data-domain="fredm67.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Recherche" href="../../search/" />
    <link rel="next" title="Choix de la configuration" href="../choix-configuration/" />
    <link rel="prev" title="Installation des Logiciels" href="../../installation-logiciel/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../" class="icon icon-home">
            Documentation du Mk2PVRouter
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">âš ï¸ SÃ©curitÃ© (Ã€ LIRE EN PREMIER!)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../safety-overview/">âš ï¸ SÃ©curitÃ© â€” Ã€ Lire Absolument Avant de Commencer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“– Introduction &amp; Concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../principe-fonctionnement/">Principe de fonctionnement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../burst-fire-control/">Burst Fire Control</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸš€ DÃ©marrage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../soldering-tutorial/">Guide de Soudure pour DÃ©butants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-logiciel/">Installation des Logiciels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-logiciel/#installation-pilotes-ftdi">Installation Pilotes FTDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-logiciel/#choix-de-lenvironnement-de-developpement">Choix de lâ€™Environnement de DÃ©veloppement</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“‹ Carte-mÃ¨re universelle</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">PrÃ©sentation de la carte universelle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vue-densemble">Vue dâ€™ensemble</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#caracteristiques-principales">CaractÃ©ristiques principales</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#images-de-la-carte">Images de la carte</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecteurs">Connecteurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brochage-des-connecteurs">Brochage des connecteurs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pe-n-l1-l2-l3-entree-secteur-15-phoenix-contact">PE / N / L1 / L2 / L3 â€” EntrÃ©e secteur (1Ã—5 Phoenix Contact)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trig-ext-declenchement-gpio-16-barrette-male">TRIG_EXT â€” DÃ©clenchement/GPIO (1Ã—6 barrette mÃ¢le)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uart-ext-uart-ds18b20-16-barrette-male">UART_EXT â€” UART + DS18B20 (1Ã—6 barrette mÃ¢le)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftdi-programmation-debogage-16-molex-sl">FTDI â€” Programmation/dÃ©bogage (1Ã—6 Molex SL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oled-ecran-i2c-14-molex-sl">OLED â€” Ã‰cran I2C (1Ã—4 Molex SL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ct1-ct2-ct3-transformateurs-de-courant-12-molex-sl">CT1 / CT2 / CT3 â€” Transformateurs de courant (1Ã—2 Molex SL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sorties-numeriques-d2d13">Sorties numÃ©riques D2â€“D13</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#types-de-capteurs-de-courant-supportes">Types de capteurs de courant supportÃ©s</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#alimentation">Alimentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chaine-dalimentation">ChaÃ®ne dâ€™alimentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#protection-contre-les-surtensions">Protection contre les surtensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rails-dalimentation">Rails dâ€™alimentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#integration-du-module-mk2wifi">IntÃ©gration du module mk2Wifi</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../choix-configuration/">Choix de la configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assemblage-carte-mere/">Assemblage de la carte-mÃ¨re universelle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assemblage-monophase/">Assemblage â€” Composants monophasÃ©</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assemblage-triphase/">Assemblage â€” Composants triphasÃ©</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests-electriques/">Tests Ã©lectriques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cavaliers/">Configuration des cavaliers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">âš¡ Ã‰tages de sortie</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../etage-sortie/carte-sortie/">Ã‰tage de sortie</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../etage-sortie/carte-sortie-relais/">Sortie relais tout-ou-rien</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../etage-sortie/carte-indicateur/">Carte indicateur LED</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“¡ Module mk2Wifi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../mk2wifi/presentation-mk2wifi/">Module mk2Wifi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mk2wifi/installation-mk2wifi/">Installation du module mk2Wifi</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“¦ BoÃ®tier &amp; CÃ¢blage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../boitier/percages/">PerÃ§ages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boitier/confection-cables/">Confection des cÃ¢bles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boitier/assemblage/">Assemblage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ’» Logiciel &amp; Ã‰talonnage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware/test-logiciel/">Tests logiciels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../etalonnage/">Ã‰talonnage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ  Installation Finale</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation-finale/">Installation Finale dans le SystÃ¨me Ã‰lectrique</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ”§ DÃ©pannage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Guide de DÃ©pannage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ“š Glossaire</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossaire</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/#termes-de-base-pour-debutants">Termes de Base pour DÃ©butants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/#termes-techniques-avances">Termes Techniques AvancÃ©s</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Documentation du Mk2PVRouter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">PrÃ©sentation de la carte universelle</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/FredM67/Mk2PVRouter/blob/main/content/carte-mere/presentation.rst" class="fa fa-github"> Ã‰diter sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="presentation-de-la-carte-universelle">
<span id="carte-mere-presentation"></span><h1>PrÃ©sentation de la carte universelle<a class="headerlink" href="#presentation-de-la-carte-universelle" title="Lien vers cette rubrique">ïƒ</a></h1>
<p>â±ï¸ <strong>Temps de lecture</strong>Â : 10â€“15 minutes</p>
<div class="admonition-prerequis admonition">
<p class="admonition-title">ğŸ“‹ PrÃ©requis</p>
<p>Avant de commencer ce chapitreÂ :</p>
<div class="line-block">
<div class="line">â˜ Chapitre <a class="reference internal" href="../../safety-overview/#safety-overview"><span class="std std-ref">âš ï¸ SÃ©curitÃ© â€” Ã€ Lire Absolument Avant de Commencer</span></a> lu et compris</div>
<div class="line">â˜ Choix de la configuration effectuÃ© (voir <a class="reference internal" href="../choix-configuration/#choix-configuration"><span class="std std-ref">Choix de la configuration</span></a>)</div>
</div>
</div>
<section id="vue-densemble">
<h2>Vue dâ€™ensemble<a class="headerlink" href="#vue-densemble" title="Lien vers cette rubrique">ïƒ</a></h2>
<p>La carte <strong>3phaseDiverter</strong> (rÃ©v. 6.0) est la carte principale universelle du Mk2 PV Router. Elle remplace les anciennes cartes monophasÃ©e et triphasÃ©e sÃ©parÃ©es par une carte unique capable de gÃ©rer les quatre configurations supportÃ©esÂ :</p>
<ul class="simple">
<li><p><strong>MonophasÃ©</strong>Â : une phase, un neutre (230 V)</p></li>
<li><p><strong>TriphasÃ© avec neutre</strong>Â : trois phases + neutre (400 V / 230 V)</p></li>
<li><p><strong>TriphasÃ© sans neutre</strong>Â : trois phases sans neutre (400 V)</p></li>
<li><p><strong>Split-phase</strong>Â : deux phases Ã  180Â° (120 V / 240 V, rÃ©seau nord-amÃ©ricain)</p></li>
</ul>
<p>La sÃ©lection de la configuration se fait uniquement par les <a class="reference internal" href="../../glossary/#term-Cavalier-de-soudure"><span class="xref std std-term">cavaliers de soudure</span></a> et le choix des connecteurs â€” tous les composants CMS sont identiques quelle que soit la configuration.</p>
<section id="caracteristiques-principales">
<h3>CaractÃ©ristiques principales<a class="headerlink" href="#caracteristiques-principales" title="Lien vers cette rubrique">ïƒ</a></h3>
<ul class="simple">
<li><p>MicrocontrÃ´leur <strong>ATmega328P</strong> (16 MHz, DIP-28)</p></li>
<li><p>Jusquâ€™Ã  3 capteurs de tension (<a class="reference internal" href="../../glossary/#term-ZMPT101K"><span class="xref std std-term">ZMPT101K</span></a>, rapport 1000:1000)</p></li>
<li><p>Jusquâ€™Ã  3 connecteurs de transformateur de courant (<a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> 1â€“CT3)</p></li>
<li><p>Module radio <strong>RFM69CW</strong> (bande ISM 433/868 MHz) avec connecteur <a class="reference internal" href="../../glossary/#term-SMA"><span class="xref std std-term">SMA</span></a></p></li>
<li><p>Alimentation AC-DC intÃ©grÃ©e (<strong>RAC05E-05SKT</strong>, 5 V / 3 W)</p></li>
<li><p>RÃ©gulateur <a class="reference internal" href="../../glossary/#term-LDO"><span class="xref std std-term">LDO</span></a> <strong>AP2112K-3.3</strong> (5 V â†’ 3,3 V, 600 mA)</p></li>
<li><p>Protection parafoudre multiniveau (<a class="reference internal" href="../../glossary/#term-GDT"><span class="xref std std-term">GDT</span></a>, fusibles, <a class="reference internal" href="../../glossary/#term-MOV"><span class="xref std std-term">MOV</span></a>, self de mode commun)</p></li>
<li><p>Buffer de la rÃ©fÃ©rence interne 1,1 V (AREF) par amplificateur opÃ©rationnel <strong>LMV321A</strong></p></li>
<li><p>Connecteurs dâ€™extensionÂ : <strong>TRIG_EXT</strong>, <strong>UART_EXT</strong>, <strong>FTDI</strong>, <strong>OLED</strong></p></li>
<li><p>Compatible avec le module dâ€™extension <a class="reference internal" href="../../glossary/#term-mk2Wifi"><span class="xref std std-term">mk2Wifi</span></a></p></li>
</ul>
</section>
</section>
<section id="images-de-la-carte">
<h2>Images de la carte<a class="headerlink" href="#images-de-la-carte" title="Lien vers cette rubrique">ïƒ</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Face avant (assemblÃ©e)</p></th>
<th class="head"><p>Face arriÃ¨re</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-default">
<img alt="Carte universelle â€” face avant assemblÃ©e" class="clickable-img" src="../../_images/mainboard-front.png" />
</figure>
</td>
<td><figure class="align-default">
<img alt="Carte universelle â€” face arriÃ¨re" class="clickable-img" src="../../_images/mainboard-back.png" />
</figure>
</td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Composants <a class="reference internal" href="../../glossary/#term-CMS"><span class="xref std std-term">CMS</span></a> uniquement</p></th>
<th class="head"><p>Circuit imprimÃ© nu</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-default">
<img alt="Carte universelle â€” composants CMS" class="clickable-img" src="../../_images/mainboard-smd.png" />
</figure>
</td>
<td><figure class="align-default">
<img alt="Carte universelle â€” PCB nu" class="clickable-img" src="../../_images/mainboard-bare.png" />
</figure>
</td>
</tr>
</tbody>
</table>
</section>
<section id="connecteurs">
<h2>Connecteurs<a class="headerlink" href="#connecteurs" title="Lien vers cette rubrique">ïƒ</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 30.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SÃ©rigraphie</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PE / N / L1 / L2 / L3</p></td>
<td><p>Phoenix Contact MSTBV 2,5 (pas 5,08 mm)</p></td>
<td><p>EntrÃ©e secteur. En monophasÃ©, un connecteur 3 voies est fourni (PE, N, L1).</p></td>
</tr>
<tr class="row-odd"><td><p>TRIG_EXT</p></td>
<td><p>Barrette mÃ¢le 1Ã—06 (pas 2,54 mm)</p></td>
<td><p>DÃ©clenchement / GPIO</p></td>
</tr>
<tr class="row-even"><td><p>UART_EXT</p></td>
<td><p>Barrette mÃ¢le 1Ã—06 (pas 2,54 mm)</p></td>
<td><p>UART + capteur DS18B20</p></td>
</tr>
<tr class="row-odd"><td><p>FTDI</p></td>
<td><p>Molex SL 1Ã—06 (pas 2,54 mm)</p></td>
<td><p>Programmation / dÃ©bogage</p></td>
</tr>
<tr class="row-even"><td><p>OLED</p></td>
<td><p>Molex SL 1Ã—04 (pas 2,54 mm)</p></td>
<td><p>Ã‰cran I2C (monophasÃ© uniquement)</p></td>
</tr>
<tr class="row-odd"><td><p>SMA</p></td>
<td><p><a class="reference internal" href="../../glossary/#term-SMA"><span class="xref std std-term">SMA</span></a> vertical (50 Î©)</p></td>
<td><p>Antenne module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a></p></td>
</tr>
<tr class="row-even"><td><p>CT1</p></td>
<td><p>Molex SL 1Ã—02 (pas 2,54 mm)</p></td>
<td><p>EntrÃ©e <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> L1</p></td>
</tr>
<tr class="row-odd"><td><p>CT2</p></td>
<td><p>Molex SL 1Ã—02 (pas 2,54 mm)</p></td>
<td><p>EntrÃ©e <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> L2 (triphasÃ© uniquement)</p></td>
</tr>
<tr class="row-even"><td><p>CT3</p></td>
<td><p>Molex SL 1Ã—02 (pas 2,54 mm)</p></td>
<td><p>EntrÃ©e <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> L3 (triphasÃ© uniquement)</p></td>
</tr>
<tr class="row-odd"><td><p>D2 Ã  D13</p></td>
<td><p>Molex SL 1Ã—02 (GND, I/O) + Molex SL 1Ã—03 (GND, I/O, VCC) par sortie</p></td>
<td><p>Sorties numÃ©riques â€” voir <a class="reference internal" href="#sorties-numeriques"><span class="std std-ref">Sorties numÃ©riques D2â€“D13</span></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="brochage-des-connecteurs">
<h2>Brochage des connecteurs<a class="headerlink" href="#brochage-des-connecteurs" title="Lien vers cette rubrique">ïƒ</a></h2>
<section id="pe-n-l1-l2-l3-entree-secteur-15-phoenix-contact">
<h3>PE / N / L1 / L2 / L3 â€” EntrÃ©e secteur (1Ã—5 Phoenix Contact)<a class="headerlink" href="#pe-n-l1-l2-l3-entree-secteur-15-phoenix-contact" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SÃ©rigraphie</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PE</p></td>
<td><p>Terre (conducteur de protection)</p></td>
</tr>
<tr class="row-odd"><td><p>N</p></td>
<td><p>Neutre</p></td>
</tr>
<tr class="row-even"><td><p>L1</p></td>
<td><p>Phase 1</p></td>
</tr>
<tr class="row-odd"><td><p>L2</p></td>
<td><p>Phase 2</p></td>
</tr>
<tr class="row-even"><td><p>L3</p></td>
<td><p>Phase 3</p></td>
</tr>
</tbody>
</table>
<p>En monophasÃ©, un connecteur 3 voies est fourni (PE, N, L1).</p>
</section>
<section id="trig-ext-declenchement-gpio-16-barrette-male">
<h3>TRIG_EXT â€” DÃ©clenchement/GPIO (1Ã—6 barrette mÃ¢le)<a class="headerlink" href="#trig-ext-declenchement-gpio-16-barrette-male" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Broche</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>D8</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>D7</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>D6</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>D5</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>D9</p></td>
</tr>
</tbody>
</table>
</section>
<section id="uart-ext-uart-ds18b20-16-barrette-male">
<h3>UART_EXT â€” UART + DS18B20 (1Ã—6 barrette mÃ¢le)<a class="headerlink" href="#uart-ext-uart-ds18b20-16-barrette-male" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Broche</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>DS18B20</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>+5 V</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>RX</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>TX</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>DTR</p></td>
</tr>
</tbody>
</table>
<p>Les noms des signaux (TX, RX) sont du point de vue de la <strong>carte principale</strong>Â : TX transporte les donnÃ©es Ã©mises par lâ€™ATmega328P, RX les donnÃ©es reÃ§ues.</p>
</section>
<section id="ftdi-programmation-debogage-16-molex-sl">
<h3>FTDI â€” Programmation/dÃ©bogage (1Ã—6 Molex SL)<a class="headerlink" href="#ftdi-programmation-debogage-16-molex-sl" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Broche</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>CTS (NC)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>VCC (NC)</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>TXO</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>RXI</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>DTR</p></td>
</tr>
</tbody>
</table>
<p>Brochage compatible avec les adaptateurs FTDI standard. Le signal DTR permet lâ€™auto-reset pour le tÃ©lÃ©versement via le bootloader Arduino.</p>
</section>
<section id="oled-ecran-i2c-14-molex-sl">
<h3>OLED â€” Ã‰cran I2C (1Ã—4 Molex SL)<a class="headerlink" href="#oled-ecran-i2c-14-molex-sl" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Broche</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GND</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>VCC</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>SCL</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>SDA</p></td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Le bus I2C est partagÃ© sur les broches A4 (SDA) et A5 (SCL) de lâ€™ATmega328P. En mode triphasÃ©, ces broches sont affectÃ©es Ã  la mesure de tension/courant L3 â€” lâ€™Ã©cran OLED nâ€™est alors <strong>pas disponible</strong>. Le choix est effectuÃ© par les cavaliers <strong>JP1</strong> et <strong>JP2</strong> (voir <a class="reference internal" href="../cavaliers/#cavaliers"><span class="std std-ref">Configuration des cavaliers</span></a>).</p>
</div>
</section>
<section id="ct1-ct2-ct3-transformateurs-de-courant-12-molex-sl">
<h3>CT1 / CT2 / CT3 â€” Transformateurs de courant (1Ã—2 Molex SL)<a class="headerlink" href="#ct1-ct2-ct3-transformateurs-de-courant-12-molex-sl" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Broche</p></th>
<th class="head"><p>Signal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Signal CT</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>AGND</p></td>
</tr>
</tbody>
</table>
<p>CT1 est utilisÃ© en monophasÃ© et en triphasÃ©. CT2 et CT3 sont utilisÃ©s uniquement en triphasÃ©.</p>
</section>
<section id="sorties-numeriques-d2d13">
<span id="sorties-numeriques"></span><h3>Sorties numÃ©riques D2â€“D13<a class="headerlink" href="#sorties-numeriques-d2d13" title="Lien vers cette rubrique">ïƒ</a></h3>
<p>Chaque sortie numÃ©rique (D2 Ã  D13) dispose de <strong>deux connecteurs Molex SL</strong> sur la carteÂ :</p>
<ul class="simple">
<li><p><strong>1Ã—02</strong> (2 broches)Â : GND, I/O</p></li>
<li><p><strong>1Ã—03</strong> (3 broches)Â : GND, I/O, VCC</p></li>
</ul>
<p>Le connecteur <strong>1Ã—03</strong> (GND, I/O, VCC) sert Ã  raccorder lâ€™Ã©tage de sortie (<a class="reference internal" href="../../glossary/#term-Triac"><span class="xref std std-term">triac</span></a> ou relais), qui a besoin de lâ€™alimentation. Le connecteur <strong>1Ã—02</strong> (GND, I/O) sert Ã  raccorder la carte indicateur LED (voir <a class="reference internal" href="../../etage-sortie/carte-indicateur/#carte-indicateur"><span class="std std-ref">Carte indicateur LED</span></a>), qui nâ€™a besoin que du signal de commande.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">DisponibilitÃ© des sorties numÃ©riques</span><a class="headerlink" href="#id1" title="Lien vers ce tableau">ïƒ</a></caption>
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sortie</p></th>
<th class="head"><p>Remarques</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D2*</p></td>
<td><p>RÃ©servÃ©e au module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a> (IRQ). Libre si le module RF nâ€™est pas soudÃ©.</p></td>
</tr>
<tr class="row-odd"><td><p>D3</p></td>
<td><p>Capteur DS18B20 (si cavalier TEMP en position routeur). Libre si TEMP en position mk2Wifi.</p></td>
</tr>
<tr class="row-even"><td><p>D4</p></td>
<td><p>Libre</p></td>
</tr>
<tr class="row-odd"><td><p>D5â€“D9</p></td>
<td><p>Sorties de dÃ©clenchement (TRIG_EXT). RÃ©servÃ©es au module <a class="reference internal" href="../../glossary/#term-mk2Wifi"><span class="xref std std-term">mk2Wifi</span></a> si celui-ci est prÃ©sent. Libres sinon.</p></td>
</tr>
<tr class="row-even"><td><p>D10*</p></td>
<td><p>SPI SS â€” rÃ©servÃ©e au module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a>. Libre si le module RF nâ€™est pas soudÃ©.</p></td>
</tr>
<tr class="row-odd"><td><p>D11*</p></td>
<td><p>SPI MOSI â€” rÃ©servÃ©e au module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a>. Libre si le module RF nâ€™est pas soudÃ©.</p></td>
</tr>
<tr class="row-even"><td><p>D12*</p></td>
<td><p>SPI MISO â€” rÃ©servÃ©e au module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a>. Libre si le module RF nâ€™est pas soudÃ©.</p></td>
</tr>
<tr class="row-odd"><td><p>D13*</p></td>
<td><p>SPI SCK â€” rÃ©servÃ©e au module <a class="reference internal" href="../../glossary/#term-RF"><span class="xref std std-term">RF</span></a>. Libre si le module RF nâ€™est pas soudÃ©.</p></td>
</tr>
</tbody>
</table>
<p>Les sorties marquÃ©es dâ€™un <strong>astÃ©risque (*)</strong> sur la sÃ©rigraphie de la carte sont rÃ©servÃ©es au module RF (RFM69CW) lorsquâ€™il est soudÃ©. Si le module RF nâ€™est pas prÃ©sent, ces sorties sont librement utilisables.</p>
<section id="types-de-capteurs-de-courant-supportes">
<h4>Types de capteurs de courant supportÃ©s<a class="headerlink" href="#types-de-capteurs-de-courant-supportes" title="Lien vers cette rubrique">ïƒ</a></h4>
<p>La carte universelle est conÃ§ue pour fonctionner avec deux types de capteurs de courantÂ :</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Quel que soit le type de CT, le boÃ®tier porte gÃ©nÃ©ralement une <strong>flÃ¨che</strong> indiquant le sens du courant primaire, ainsi que des repÃ¨res <strong>K</strong> et <strong>L</strong> sur les bornes ou fils du secondaireÂ :</p>
<ul class="simple">
<li><p><strong>K</strong> (ou P1 / S1)Â : borne positive quand le courant primaire circule dans le sens de la flÃ¨che</p></li>
<li><p><strong>L</strong> (ou P2 / S2)Â : borne complÃ©mentaire</p></li>
</ul>
<p>Ces marquages sont importants lors du raccordement aux connecteurs CT de la carte (voir <a class="reference internal" href="../../installation-finale/#installation-finale"><span class="std std-ref">Installation Finale dans le SystÃ¨me Ã‰lectrique</span></a>).</p>
</div>
<dl>
<dt><strong>CT Ã  sortie tension (333 mV)</strong> â€” recommandÃ©</dt><dd><p>Les capteurs Ã  sortie tension (par ex. SCT-023R-005 ou Ã©quivalent 333 mV) intÃ¨grent leur propre rÃ©sistance de <a class="reference internal" href="../../glossary/#term-Burden"><span class="xref std std-term">burden</span></a>. Le signal de tension est directement compatible avec lâ€™entrÃ©e <a class="reference internal" href="../../glossary/#term-ADC"><span class="xref std std-term">ADC</span></a> du microcontrÃ´leur. <strong>Aucun composant supplÃ©mentaire nâ€™est nÃ©cessaire</strong> sur la carte.</p>
<p>Câ€™est le type de CT recommandÃ© pour la carte universelle.</p>
</dd>
<dt><strong>CT Ã  sortie courant</strong> â€” avec burden THT</dt><dd><p>Les capteurs Ã  sortie courant (par ex. YHDC SCT-013-000, 100 A / 50 mA) dÃ©livrent un courant proportionnel au courant mesurÃ©. Ce courant doit Ãªtre converti en tension par une rÃ©sistance de <a class="reference internal" href="../../glossary/#term-Burden"><span class="xref std std-term">burden</span></a> soudÃ©e sur la carte (emplacements <strong>R18</strong> / <strong>R28</strong> / <strong>R38</strong>).</p>
<p>Les emplacements R18 / R28 / R38 sont des <strong>empreintes doubles</strong>Â : une diode <a class="reference internal" href="../../glossary/#term-TVS"><span class="xref std std-term">TVS</span></a> de protection est dÃ©jÃ  soudÃ©e en usine (cÃ´tÃ© <a class="reference internal" href="../../glossary/#term-CMS"><span class="xref std std-term">CMS</span></a>). Elle protÃ¨ge lâ€™entrÃ©e de lâ€<a class="reference internal" href="../../glossary/#term-ADC"><span class="xref std std-term">ADC</span></a> dans le cas oÃ¹ un CT Ã  sortie courant serait branchÃ© sans burden. La rÃ©sistance de burden THT se soude <strong>par-dessus</strong> la TVS, sur les mÃªmes pastilles.</p>
<p>La valeur du burden doit Ãªtre calculÃ©e pour que la tension crÃªte ne dÃ©passe pas <strong>0,55 V</strong> (soit la moitiÃ© de la plage <a class="reference internal" href="../../glossary/#term-ADC"><span class="xref std std-term">ADC</span></a> avec VREF = 1,1 V)Â :</p>
<div class="math notranslate nohighlight">
\[R_{burden} = \frac{V_{REF}}{2 \times \sqrt{2} \times I_{secondaire\_RMS}} = \frac{0{,}55}{I_{secondaire\_crÃªte}}\]</div>
<p>OÃ¹ <span class="math notranslate nohighlight">\(I_{secondaire\_RMS} = I_{primaire\_RMS} / N\)</span> (N = rapport de transformation du CT).</p>
<p><strong>Exemple</strong>Â : CT de 100 A / 50 mA (N = 2000), courant max souhaitÃ© = 50 AÂ :</p>
<div class="math notranslate nohighlight">
\[I_{sec} = \frac{50}{2000} = 25\,\text{mA RMS} \quad \Rightarrow \quad R_{burden} = \frac{1{,}1 \times 2000}{2 \times \sqrt{2} \times 50} \approx 15{,}6\,\Omega\]</div>
<p>On choisira la valeur standard la plus proche <strong>infÃ©rieure</strong> (15 Î©) pour garder une marge de sÃ©curitÃ©.</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Si le courant mesurÃ© dÃ©passe la valeur prÃ©vue, la tension aux bornes du burden dÃ©passera la plage de lâ€™ADC. Les diodes TVS protÃ¨gent lâ€™entrÃ©e du microcontrÃ´leur, mais ne limitent pas le courant dans le burden â€” la rÃ©sistance peut surchauffer.</p>
</div>
</dd>
</dl>
<details style="margin: 1em 0; border: 1px solid #ccc; border-radius: 4px; padding: 0;">
<summary style="cursor: pointer; padding: 0.75em 1em; background: #f8f8f8; font-weight: bold;">ğŸ§® Calculateur de rÃ©sistance de burden</summary>
<div style="padding: 1em;">
<p>Entrez les caractÃ©ristiques de votre CT pour calculer la rÃ©sistance de burden adaptÃ©e.</p>
<table style="border-collapse: collapse; width: 100%;">
<tr>
  <td style="padding: 6px 8px;"><label for="ct_ratio_primary">Courant primaire nominal du CT (A) :</label></td>
  <td style="padding: 6px 8px;"><input type="number" id="ct_ratio_primary" value="100" min="1" step="1" style="width: 100px; padding: 4px;"></td>
</tr>
<tr>
  <td style="padding: 6px 8px;"><label for="ct_ratio_secondary">Courant secondaire nominal (mA) :</label></td>
  <td style="padding: 6px 8px;"><input type="number" id="ct_ratio_secondary" value="50" min="1" step="1" style="width: 100px; padding: 4px;"></td>
</tr>
<tr>
  <td style="padding: 6px 8px;"><label for="i_max">Courant max souhaitÃ© cÃ´tÃ© primaire (A) :</label></td>
  <td style="padding: 6px 8px;"><input type="number" id="i_max" value="50" min="1" step="1" style="width: 100px; padding: 4px;"></td>
</tr>
</table>
<p style="margin-top: 0.75em;">
  <button onclick="calcBurden()" style="padding: 6px 16px; cursor: pointer; background: #2980b9; color: white; border: none; border-radius: 3px;">Calculer</button>
</p>
<div id="burden_result" style="margin-top: 0.5em; padding: 0.75em; background: #eef; border-radius: 4px; display: none;"></div>
<script>
function calcBurden() {
  var Ip = parseFloat(document.getElementById('ct_ratio_primary').value);
  var Is_mA = parseFloat(document.getElementById('ct_ratio_secondary').value);
  var Imax = parseFloat(document.getElementById('i_max').value);
  var N = Ip / (Is_mA / 1000);
  var Vref = 1.1;
  var R = (Vref * N) / (2 * Math.sqrt(2) * Imax);
  var Imax_sec_rms = Imax / N * 1000;
  var Vpeak = Imax_sec_rms / 1000 * Math.sqrt(2) * R;

  /* E24 standard resistor values */
  var e24 = [1.0,1.1,1.2,1.3,1.5,1.6,1.8,2.0,2.2,2.4,2.7,3.0,3.3,3.6,3.9,4.3,4.7,5.1,5.6,6.2,6.8,7.5,8.2,9.1];
  var std = [];
  for (var dec = 0.1; dec <= 10000; dec *= 10) {
    for (var j = 0; j < e24.length; j++) std.push(+(e24[j] * dec).toPrecision(2));
  }
  std.sort(function(a,b){return a-b;});
  var Rstd = std[0];
  for (var k = 0; k < std.length; k++) {
    if (std[k] <= R) Rstd = std[k];
    else break;
  }
  var Imax_with_std = (Vref * N) / (2 * Math.sqrt(2) * Rstd);

  var res = document.getElementById('burden_result');
  res.style.display = 'block';
  res.innerHTML =
    '<b>Rapport de transformation N</b> = ' + N.toFixed(0) + '<br>' +
    '<b>R<sub>burden</sub> calculÃ©</b> = ' + R.toFixed(1) + ' Î©<br>' +
    '<b>Valeur standard E24 recommandÃ©e</b> = <b style="color: #c0392b;">' + Rstd + ' Î©</b> (valeur infÃ©rieure la plus proche)<br>' +
    '<b>Courant max mesurable avec ' + Rstd + ' Î©</b> = ' + Imax_with_std.toFixed(1) + ' A RMS';
}
</script>
</div>
</details><div class="dropdown exercise important admonition" id="exercise-0">
<p class="admonition-title">Un peu de mathÃ©matiques</p>
<p>Voici les 3 formules qui vous permettront de calculer une inconnue Ã  partir des 2 autres donnÃ©es connues.</p>
<p>Dans ces formulesÂ :</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(V_{REF}\)</span> = tension de rÃ©fÃ©rence interne de lâ€™ATmega328P = <strong>1,1 V</strong></p></li>
<li><p><span class="math notranslate nohighlight">\(N\)</span> = rapport de transformation du <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> (nombre de tours)</p></li>
<li><p><span class="math notranslate nohighlight">\(I_{RMS}\)</span> = intensitÃ© efficace maximale cÃ´tÃ© <strong>primaire</strong> (le courant mesurÃ©)</p></li>
<li><p><span class="math notranslate nohighlight">\(R_{burden}\)</span> = rÃ©sistance de charge en ohms</p></li>
</ul>
<p>Calcul de la rÃ©sistance de <a class="reference internal" href="../../glossary/#term-Burden"><span class="xref std std-term">burden</span></a> en fonction de lâ€™intensitÃ© efficace maximaleÂ :</p>
<div class="math notranslate nohighlight">
\[R_{burden} = \frac{V_{REF} \times N}{2 \times \sqrt{2} \times I_{RMS}}\]</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Calcul de lâ€™intensitÃ© efficace maximale en fonction de la rÃ©sistance de <a class="reference internal" href="../../glossary/#term-Burden"><span class="xref std std-term">burden</span></a>Â :</div>
</div>
<div class="math notranslate nohighlight">
\[I_{RMS} = \frac{V_{REF} \times N}{2 \times \sqrt{2} \times R_{burden}}\]</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Calcul du nombre de tours de capteur en fonction de la rÃ©sistance de <a class="reference internal" href="../../glossary/#term-Burden"><span class="xref std std-term">burden</span></a> et de lâ€™intensitÃ© efficace maximaleÂ :</div>
</div>
<div class="math notranslate nohighlight">
\[N = \frac{2 \times \sqrt{2} \times I_{RMS} \times R_{burden}}{V_{REF}}\]</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><strong>Exemple concret</strong>Â : CT de type SCT-013-000 (100 A / 50 mA, donc <span class="math notranslate nohighlight">\(N = 2000\)</span>) avec <span class="math notranslate nohighlight">\(R_{burden} = 22\,\Omega\)</span></div>
</div>
<div class="math notranslate nohighlight">
\[I_{RMS\_max} = \frac{1{,}1 \times 2000}{2 \times \sqrt{2} \times 22} \approx 35{,}4\,\text{A}\]</div>
<p>Pour un appareil purement rÃ©sistif (chauffe-eauâ€¦), nous avons <span class="math notranslate nohighlight">\(P_{RMS} = V_{RMS} \times I_{RMS}\)</span>.</p>
<p>Exemple pour un chauffe-eau de <strong>3000 W</strong>Â :</p>
<div class="math notranslate nohighlight">
\[I_{RMS} = \frac{P_{RMS}}{V_{RMS}} = \frac{3000}{230} \approx 13\,\text{A}\]</div>
<p>Un burden de 22 Î© avec un CT de 2000 tours est donc largement suffisant pour cette application.</p>
</div>
</section>
</section>
</section>
<section id="alimentation">
<h2>Alimentation<a class="headerlink" href="#alimentation" title="Lien vers cette rubrique">ïƒ</a></h2>
<section id="chaine-dalimentation">
<h3>ChaÃ®ne dâ€™alimentation<a class="headerlink" href="#chaine-dalimentation" title="Lien vers cette rubrique">ïƒ</a></h3>
<p>Le secteur entre par le connecteur dâ€™entrÃ©e secteur (<strong>PE / N / L1 / L2 / L3</strong>) et traverse une chaÃ®ne de protection avant dâ€™atteindre le module dâ€™alimentationÂ :</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Secteur â†’ GDT (Ã©clateurs) â†’ Fusibles (FS0â€“FS3) â†’ Varistances (RV0â€“RV3, GM1â€“GM3)
       â†’ Self de mode commun (FL1) â†’ Condensateur film (C1)
       â†’ PS1 (RAC05E-05SKT)Â : 230 VAC â†’ 5 VDC, 3 W
       â†’ D1 (SMBJ7.0A)Â : protection TVS cÃ´tÃ© 5 V
       â†’ U1 (AP2112K-3.3)Â : 5 V â†’ 3,3 V, 600 mA
</pre></div>
</div>
</section>
<section id="protection-contre-les-surtensions">
<h3>Protection contre les surtensions<a class="headerlink" href="#protection-contre-les-surtensions" title="Lien vers cette rubrique">ïƒ</a></h3>
<p>La carte intÃ¨gre plusieurs niveaux de protection contre les surtensions transitoires (foudre, commutations sur le rÃ©seau). Deux niveaux sont obligatoires, un troisiÃ¨me est optionnel.</p>
<p><strong>Niveau 1 â€” Modules de protection GM1â€“GM3</strong> (obligatoire)</p>
<p>Chaque phase est protÃ©gÃ©e par un module combinÃ© <a class="reference internal" href="../../glossary/#term-GDT"><span class="xref std std-term">GDT</span></a>+<a class="reference internal" href="../../glossary/#term-MOV"><span class="xref std std-term">MOV</span></a>. Ces modules constituent la protection principale des circuits de mesure. GM1 protÃ¨ge la phase L1, GM2 la phase L2, GM3 la phase L3 (triphasÃ© avec neutre uniquement).</p>
<p><strong>Niveau 2 â€” Fusibles FS0â€“FS3</strong> (obligatoire)</p>
<p>Les fusibles protÃ¨gent les circuits de mesure contre les surintensitÃ©s. Ils sont dimensionnÃ©s pour couper en cas de court-circuit ou de dÃ©faut sur un transformateur <a class="reference internal" href="../../glossary/#term-ZMPT101K"><span class="xref std std-term">ZMPT101K</span></a>.</p>
<p><strong>Niveau 3 â€” Varistances RV0â€“RV3 et Ã©clateurs GDT0â€“GDT3</strong> (optionnel)</p>
<p>Ce niveau de protection supplÃ©mentaire est recommandÃ© pour les installations exposÃ©es aux surtensions (zones rurales, lignes aÃ©riennes, rÃ©gions Ã  forte activitÃ© orageuse). Les Ã©clateurs <a class="reference internal" href="../../glossary/#term-GDT"><span class="xref std std-term">GDT</span></a> constituent la premiÃ¨re ligne de dÃ©fense et dÃ©vient les surtensions les plus violentes. Les varistances <a class="reference internal" href="../../glossary/#term-MOV"><span class="xref std std-term">MOV</span></a> Ã©crÃªtent les surtensions rÃ©siduelles.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Les composants optionnels (RV0â€“RV3, GDT0â€“GDT3) ne sont pas fournis dans le kit de base. Ils peuvent Ãªtre ajoutÃ©s ultÃ©rieurement sans modifier le reste du circuit.</p>
</div>
</section>
<section id="rails-dalimentation">
<h3>Rails dâ€™alimentation<a class="headerlink" href="#rails-dalimentation" title="Lien vers cette rubrique">ïƒ</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Rail</p></th>
<th class="head"><p>Tension</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>+5 V</p></td>
<td><p>5 V</p></td>
<td><p>Connecteurs UART_EXT et FTDI</p></td>
</tr>
<tr class="row-odd"><td><p>+3,3 V</p></td>
<td><p>3,3 V</p></td>
<td><p>ATmega328P, module RFM69CW</p></td>
</tr>
<tr class="row-even"><td><p>AVCC</p></td>
<td><p>3,3 V (filtrÃ©)</p></td>
<td><p>RÃ©fÃ©rence analogique ATmega328P, connecteur OLED</p></td>
</tr>
<tr class="row-odd"><td><p>GND</p></td>
<td><p>0 V</p></td>
<td><p>Masse numÃ©rique</p></td>
</tr>
<tr class="row-even"><td><p>AGND</p></td>
<td><p>0 V</p></td>
<td><p>Masse analogique</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="integration-du-module-mk2wifi">
<h2>IntÃ©gration du module mk2Wifi<a class="headerlink" href="#integration-du-module-mk2wifi" title="Lien vers cette rubrique">ïƒ</a></h2>
<p>La carte principale est conÃ§ue pour accueillir le module dâ€™extension <a class="reference internal" href="../../glossary/#term-mk2Wifi"><span class="xref std std-term">mk2Wifi</span></a> via les connecteurs TRIG_EXT et UART_EXTÂ :</p>
<ul class="simple">
<li><p>Lâ€™une des deux cartes utilise des <strong>barrettes mÃ¢les</strong>, lâ€™autre des <strong>barrettes femelles</strong> (au choix de lâ€™utilisateur)</p></li>
<li><p>Lâ€™alimentation +5 V est fournie par la carte principale via UART_EXT broche 3</p></li>
<li><p>Lâ€™UART (TX/RX) assure la communication sÃ©rie avec le module dâ€™extension</p></li>
<li><p>Le signal DS18B20 est acheminÃ© via UART_EXT broche 2 pour la mesure de tempÃ©rature 1-Wire</p></li>
<li><p>Les signaux GPIO D5â€“D9 fournissent les sorties de dÃ©clenchement/commande via TRIG_EXT</p></li>
<li><p>Le bus I2C (SCL/SDA) est <strong>local au module mk2Wifi uniquement</strong> â€” il nâ€™est pas routÃ© vers la carte principale</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="../../installation-logiciel/" class="btn btn-neutral float-left" title="Installation des Logiciels" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> PrÃ©cÃ©dent</a>
        <a href="../choix-configuration/" class="btn btn-neutral float-right" title="Choix de la configuration" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2026, ENERGIE ROUTER &amp; F. Metrich (aka github:FredM67).
      <span class="lastupdated">Mis Ã  jour le 20 fÃ©vrier 2026.
      </span></p>
  </div>

  CompilÃ© avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thÃ¨me</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Documentation</span>
      v (stable)
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/Mk2PVRouter/">latest</a></dd>
        
          <dd><a href="/Mk2PVRouter/branch/legacy/">legacy (mono/tri)</a></dd>
        
      </dl>
      <dl>
        <dt>TÃ©lÃ©chargements</dt>
        
          <dd><a href="/Mk2PVRouter/_static/Mk2PVRouter.pdf">PDF</a></dd>
        
      </dl>
      <dl>
        <dt>On Github</dt>
          <dd><a href="https://github.com/FredM67/Mk2PVRouter/blob/main/content/carte-mere/presentation.rst"> View</a></dd>
          <dd><a href="https://github.com/FredM67/Mk2PVRouter/edit/main/content/carte-mere/presentation.rst"> Edit</a></dd>
      </dl>
      <dl>
        <dt>Recherche</dt>
          <dd>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div></dd>
      </dl>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>