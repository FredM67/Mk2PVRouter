

<!DOCTYPE html>
<html class="writer-html5" lang="fr" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="article:modified_time" content="2024-11-21T21:32:31+01:00" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tests logiciel &mdash; Documentation Documentation du Mk2PVRouter </title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_lesson.css?v=0c089442" />
      <link rel="stylesheet" type="text/css" href="../../_static/term_role_formatting.css?v=4194e21c" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx_rtd_theme_ext_color_contrast.css?v=8e8ea19f" />
      <link rel="stylesheet" type="text/css" href="../../_static/drawio.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=0d32a3b3"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/minipres.js?v=a0d29692"></script>
      <script>let toggleHintShow = '';</script>
      <script>let toggleHintHide = '';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
      <script src="../../_static/translations.js?v=e6b791cb"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script data-domain="fredm67.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Recherche" href="../../search/" />
    <link rel="next" title="Étalonnage" href="../etalonnage-mono/" />
    <link rel="prev" title="Assemblage" href="../assemblage-mono/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../" class="icon icon-home">
            Documentation du Mk2PVRouter
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Principe de fonctionnement</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../principe-fonctionnement/">Principe de fonctionnement</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kit monophasé</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../soudures-mono/">Soudures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../percages-mono/">Perçages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../carte-sortie-relais-mono/">Sortie relais tout-ou-rien</a></li>
<li class="toctree-l1"><a class="reference internal" href="../confection-cables-mono/">Confection des câbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assemblage-mono/">Assemblage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tests logiciel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pre-requis">Pré-requis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#carte-usb-vers-uart">Carte USB vers UART</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logiciel-de-programmation">Logiciel de programmation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mise-en-place">Mise en place</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#test-de-la-partie-mesures">Test de la partie <em>mesures</em></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../etalonnage-mono/">Étalonnage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kit triphasé</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tri/soudures-tri/">Soudures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/percages-tri/">Perçages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/carte-sortie-relais-tri/">Sortie relais tout-ou-rien</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/confection-cables-tri/">Confection des câbles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/assemblage-tri/">Assemblage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/test-logiciel-tri/">Test logiciel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tri/etalonnage-tri/">Étalonnage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossaire</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossaire</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Documentation du Mk2PVRouter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tests logiciel</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/FredM67/Mk2PVRouter/blob/main/content/mono/test-logiciel-mono.rst" class="fa fa-github"> Éditer sur GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tests-logiciel">
<span id="test-logiciel-mono"></span><h1>Tests logiciel<a class="headerlink" href="#tests-logiciel" title="Lien vers cette rubrique"></a></h1>
<div class="line-block">
<div class="line">Une fois le processeur installé, il serait judicieux de vérifier que l’alimentation électrique fonctionne toujours correctement.</div>
<div class="line">Si c’est le cas, nous pouvons exécuter un croquis (programme) pour vérifier si le processeur fonctionne correctement.</div>
</div>
<div class="line-block">
<div class="line">Nous allons maintenant tester le bon fonctionnement des autres parties matérielles de la carte-mère.</div>
<div class="line">Cela permettra à la fois de s’assurer que le processeur est opérationnel et de vérifier que les autres composants sont correctement installés et/ou assemblés.</div>
</div>
<div class="line-block">
<div class="line">Pour cette prochaine étape, un dispositif de programmation approprié doit être mis en place.</div>
</div>
<nav class="contents local" id="sommaire">
<p class="topic-title">Sommaire</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pre-requis" id="id1">Pré-requis</a></p></li>
<li><p><a class="reference internal" href="#test-de-la-partie-mesures" id="id2">Test de la partie <em>mesures</em></a></p></li>
</ul>
</nav>
<section id="pre-requis">
<span id="test-logiciel-mono-requirements"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">Pré-requis</a><a class="headerlink" href="#pre-requis" title="Lien vers cette rubrique"></a></h2>
<p>Pour cette étape, il vous faudra :</p>
<ul class="simple">
<li><p>Un ordinateur (PC ou équivalent) avec un port USB libre. Cet ordinateur peut fonctionner sous Windows, MacOS ou Linux.</p></li>
<li><p>Un programmateur USB vers UART (par exemple, un programmateur <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a>).</p></li>
<li><p>Un câble USB approprié pour connecter le programmateur à l’ordinateur de programmation.</p></li>
<li><p>Un câble d’alimentation électrique pour le routeur.</p></li>
</ul>
<section id="carte-usb-vers-uart">
<h3>Carte USB vers UART<a class="headerlink" href="#carte-usb-vers-uart" title="Lien vers cette rubrique"></a></h3>
<div class="line-block">
<div class="line">Un programmateur USB vers UART est nécessaire pour télécharger le croquis (programme) sur le processeur.</div>
<div class="line">Ce programmateur est également utilisé pour surveiller les messages de débogage envoyés par le processeur.</div>
</div>
<div class="line-block">
<div class="line">Selon le système d’exploitation (Windows, MacOS ou Linux) de l’ordinateur de programmation, il peut être nécessaire d’installer un pilote pour le programmateur.</div>
<div class="line">Les pilotes pour le programmateur <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a> sont disponibles sur le site Web du fabricant.</div>
</div>
<div class="line-block">
<div class="line">Les pilotes disponibles sur le site <a class="reference external" href="https://www.ftdichip.com/" rel="noreferrer" target="_blank">FTDI</a> devraient convenir à la plupart des cas d’utilisation.</div>
<div class="line">Il conviendra de choisir les pilotes de type <strong>VCP</strong> (Virtual COM Port).</div>
</div>
</section>
<section id="logiciel-de-programmation">
<h3>Logiciel de programmation<a class="headerlink" href="#logiciel-de-programmation" title="Lien vers cette rubrique"></a></h3>
<p>Pour programmer l’Arduino, vous aurez besoin d’un logiciel de programmation.</p>
<div class="line-block">
<div class="line">Le logiciel le plus convivial et le plus simple pour accomplir cette tâche est l’Arduino IDE.</div>
<div class="line">Il est facile à installer et à utiliser, et il est spécialement conçu pour programmer des cartes Arduino.</div>
</div>
<div class="line-block">
<div class="line">Cependant, vous pouvez également utiliser Visual Studio Code avec l’extension PlatformIO.</div>
<div class="line">Cette combinaison offre un environnement de développement plus avancé et de nombreuses fonctionnalités supplémentaires pour les utilisateurs expérimentés.</div>
</div>
<p>Assurez-vous d’installer l’un de ces logiciels avant de continuer avec la programmation de votre carte.</p>
<div class="line-block">
<div class="line">L’<strong>Arduino IDE</strong> peut être téléchargé à partir du site <a class="reference external" href="https://www.arduino.cc/en/software" rel="noreferrer" target="_blank">Arduino</a>.</div>
<div class="line">Pour Windows, veillez à choisir la version <strong>Windows</strong> et non <span class="sphinxnotes-strike" style="text-decoration: line-through;">Windows App</span>.</div>
</div>
<div class="line-block">
<div class="line">Si vous êtes totalement débutant dans le domaine de l’Arduino, nous vous recommandons de consulter le tutoriel <a class="reference external" href="https://zestedesavoir.com/tutoriels/686/arduino-premiers-pas-en-informatique-embarquee/742_decouverte-de-larduino/" rel="noreferrer" target="_blank">Découverte de l’Arduino</a> par exemple.</div>
<div class="line">Il y en a beaucoup d’autres disponibles sur Internet.</div>
</div>
</section>
<section id="mise-en-place">
<h3>Mise en place<a class="headerlink" href="#mise-en-place" title="Lien vers cette rubrique"></a></h3>
<div class="tip admonition">
<p class="admonition-title">Remarque</p>
<p>La carte <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a> dispose d’un commutateur ou d’un cavalier pour choisir entre <strong>3,3 V</strong> et <strong>5 V</strong>.
Assurez-vous que le cavalier est correctement positionné pour la tension de fonctionnement de la carte-mère.</p>
</div>
<div class="line-block">
<div class="line">Un programmateur USB vers UART doit être connecté au connecteur <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a> du <a class="reference internal" href="../../glossary/#term-PCB"><span class="xref std std-term">PCB</span></a> comme indiqué ci-dessous.</div>
<div class="line">L’autre extrémité du programmateur doit être connectée à l’ordinateur de programmation (PC ou équivalent) via un câble USB approprié.</div>
</div>
<p>La broche à une extrémité du connecteur à 6 voies du programmateur sera étiquetée <strong>Gnd</strong>. Cette broche doit correspondre au marquage <strong>0 V</strong> sur le <a class="reference internal" href="../../glossary/#term-PCB"><span class="xref std std-term">PCB</span></a>.</p>
<div class="line-block">
<div class="line">Ici, nous utilisons le programmateur <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a>. Notez qu’il doit être monté dans le sens inverse.</div>
<div class="line">La broche <strong>Gnd</strong> doit toujours être la plus proche du bord de la carte.</div>
</div>
<div class="line-block">
<div class="line">Pour éviter de tordre le connecteur du programmateur, vous pouvez fabriquer un simple câble d’extension comme indiqué ici.</div>
<div class="line">Seules quatre des lignes sont réellement utilisées (données <strong>Tx</strong> &amp; <strong>Rx</strong>, masse et réinitialisation).</div>
<div class="line">Aucune des lignes d’alimentation électrique n’est utilisée par cette carte.</div>
</div>
<p>Le fil noir est destiné à la connexion <strong>GND</strong> (ou <strong>0 V</strong>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>La carte <a class="reference internal" href="../../glossary/#term-FTDI"><span class="xref std std-term">FTDI</span></a> ne peut pas alimenter la carte-mère.</p>
<p>Le routeur doit toujours être alimenté par sa propre source d’alimentation.</p>
</div>
</section>
</section>
<section id="test-de-la-partie-mesures">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Test de la partie <em>mesures</em></a><a class="headerlink" href="#test-de-la-partie-mesures" title="Lien vers cette rubrique"></a></h2>
<div class="line-block">
<div class="line">Le transformateur a deux sorties : l’une pour l’alimentation CC, l’autre pour le capteur de tension CA qui devrait déjà fonctionner.</div>
<div class="line">Cela peut être vérifié en exécutant un programme (croquis) qui affiche les mesures analogiques prises par le processeur Atmel (<strong>IC1</strong>).</div>
</div>
<p>Le programme, qui se trouve également sur la page Téléchargements, est : <em>RawSamplesTool_2chan.ino</em></p>
<div class="line-block">
<div class="line">Après avoir téléchargé ce croquis sur le processeur via l’Arduino IDE, la fenêtre série (icône en forme de loupe) doit être ouverte.</div>
<div class="line">Après avoir terminé chaque exécution, le programme peut être redémarré à partir du clavier en saisissant le caractère « <strong>g</strong> », suivi de <em>Entrée</em>.</div>
</div>
<div class="line-block">
<div class="line">Le programme <em>RawSamplesTool_2chan</em> affiche les échantillons de tension alternative et de courant pour un ou plusieurs cycles secteur complets.</div>
<div class="line">Si un courant important est mesuré ainsi que la tension, les résultats affichés sembleront plus intéressants.</div>
</div>
<div class="line-block">
<div class="line">Voici quelques résultats capturés lors de la mesure du courant consommé par une charge de 3 kW avec le <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> branché sur <strong>CT2</strong>.</div>
<div class="line">Lorsque le <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a> a été déplacé vers le port <a class="reference internal" href="../../glossary/#term-CT"><span class="xref std std-term">CT</span></a>1, la sortie résultante semblait presque identique, mais avec les caractères « <strong>1</strong> » et « <strong>2</strong> » inversés.</div>
</div>
<p>RSResults_V_and_I2.txt</p>
<div class="line-block">
<div class="line">Si aucun signal n’est disponible sur les ports <strong>CT1</strong> et <strong>CT2</strong>, les formes d’onde de ces canaux seront toutes deux des lignes droites.</div>
<div class="line">Seul le signal de tension affichera un aspect sinusoïdal.</div>
<div class="line">Pour vérifier le fonctionnement des ports <strong>CT1</strong> et <strong>CT2</strong> pendant que le <a class="reference internal" href="../../glossary/#term-PCB"><span class="xref std std-term">PCB</span></a> est testé sur le banc, un câblage adapté sera nécessaire.</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="../assemblage-mono/" class="btn btn-neutral float-left" title="Assemblage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="../etalonnage-mono/" class="btn btn-neutral float-right" title="Étalonnage" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Droits d'auteur 2025, ENERGIE ROUTER &amp; F. Metrich (aka github:FredM67).
      <span class="lastupdated">Mis à jour le 21 novembre 2024.
      </span></p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Documentation</span>
      v (stable)
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Téléchargements</dt>
        
          <dd><a href="../_static/Manuel_1.pdf">PDF1</a></dd>
        
          <dd><a href="../_static/Manuel_2.pdf">PDF2</a></dd>
        
      </dl>
      <dl>
        <dt>On Github</dt>
          <dd><a href="https://github.com/FredM67/Mk2PVRouter/blob/main/content/mono/test-logiciel-mono.rst"> View</a></dd>
          <dd><a href="https://github.com/FredM67/Mk2PVRouter/edit/main/content/mono/test-logiciel-mono.rst"> Edit</a></dd>
      </dl>
      <dl>
        <dt>Recherche</dt>
          <dd>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div></dd>
      </dl>
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>